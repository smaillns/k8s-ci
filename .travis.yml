branches:
  only:
  - master
sudo: required
before_install:
- chmod +x ./build-scripts/install-dependencies.sh
- chmod +x ./build-scripts/deploy-terraform.sh
- chmod +x ./build-scripts/inject-secrets.sh
- chmod +x ./build-scripts/deploy-k8s.sh
install:
- "./build-scripts/install-dependencies.sh"
- "./build-scripts/inject-secrets.sh"
script:
- "./build-scripts/deploy-terraform.sh"
- "./build-scripts/deploy-k8s.sh"
env:
  global:
  - secure: CYZeEv4VdfWPitBawjNy0fyyg2vYVoNncgmHalwnGCkU5oJanB7MIghcSdBvdnL2HbYoPt3VhAqlH4B25I9CqiUoEs9RP+EjBzrdChZRHFH/odLlkOmewqyS6Ljy7YNGKo11KvPkJwn2rj6ouc54awwDtTM5iE+W3thr7oPBbrZLRbom8lLIV5jUty3OjxJZ0IAwu2sOLAkqHqcv0EhbJt6SiTDYNiPbkGCP6PcJq/a1OnKRkAMrn7xNC4c4zFudBCuMF+NJX3V39kWeZdw4cKkzFr2H8FbNuekXq59FPmrrQ/jUciCjlboSauoLEoCOQaSYwWDzWbPeMJLok/tzIjl29aQDQCm+U1uf2iJ7OhC5/n7NIuhqyDzCVb3Fte3cOtFpYZqB/NZZeQkq5YvI9PZMJWHiKf4HfzK+2rGxyDcAD9bnWdceDNGCN1YLFjzELWg6HP+yhxqzPPgOsE6J6NmizjDFXkc08At8C1nrgCNpDFjIlpa30Wyz0+Dr0x3AZqc7f6YenqVckzF2tuHd5XscFkNhhoEfX3D1SYybSIg+69UeqPp0xP78DdYl1za3FNjHJ+TtRER+Lt3jEy7S2zXACCUHb99juQHsL+aEbhkH+5OEM2CbBm1lfi9ZHgPmSSjbN15A003tNmrn3LOWQkY7kB1vI2cqNLfvbskXvvg=
  - secure: slmeYevRyJLXvrYD8rW58xgm7jpcNPSaDo04YWAxuux3uVHWQQ9JnauFtMT9EDuRQFy1qCqBymrfQOzmombrrkha0YK6AsYhWU9rOFCAA7KnLfPZkJHdKePdniPPg4y8jsCTQq9IYkyUgQZbSUe8sKDNN1YemhlTYcwwRalFUr5bRXQQUjZ2B2GVxNQS6JZUT13zxvnQPlNiHacQPC68+X+YzzypMN0xDaTbsQ/BMERlMnc3K62G8YmzJlPGn9z4FTjoR/LE8VD4io83vB/LhNx5qKiITj9z/WDN6+KGoXjScTs4bPaUMX7E55+QkU8dzYrseCZJdkfzXfTESrPuKiTnv/1mG66BbI/lkyqXxAeTkuOy1aE7dEeGfHyLKI1nqp1mIqEoVhLUhhi/tDnz9XPIgE2fhWOEahaclvrkEzS1WwA7k6flI4s0nhN/bp657zL/r4TV8+V+sMrKHzLOpMGJ9qdYGMuVDIhAiow2S4O0u5mwje1Mz5PYliQFJNALCpB8rSyqkfwb11oLc7l+v8srUEIxHJE1Xx+DRAi1FCx2XC+Eo/X+LYrCvT/qKBUObYejTJ9lBhHSSqIlGc40rCayZ8zm8Mmz9UYk6UIZ5rZx35z2H7LMXojRhQPhVVZ6AZuXxmeWu9cMMfJtB/Zjv0IrCtQq3QkqjtgLQpx20cI=
  - secure: M1WRYGZCPCk0mA23CssHSdNkilbiMnGNtAArwHjhPK/bNAxdXxQpPxoOXcjYQmpzG0GNkZTjpMvdcCJ8N+2QiMMYNlJjcfxvC0cvI5rRi8hNyEmrue8Yj4snrA2cf7NPicpWCr48dn9QIhxTVDKz37revhUb7nk47sL7hMeFEx77k/+ZhWnMg2a+wWKv4BFfH/DfPTChTDfbJNhjMC0l5CU866O+PYzhv99k0cbPhBA0bv8YrbpF5sbissDoLMzib1rXAGvnmOM9w/4mHIU4Nf2YSUTGpCQ7npBXclRKoC0Jenr55nbvkY77KDGf3UWJJ4CulOIGgRHBTop5FlXC1u80530uZ+53KkDx9pa9ze9KAOikzz4FY9JyWJkBLZziIoznijNbfNYBUy3pKTZEJQtJMd/VgfJ2MOORC/7Lym/pqnggXwrNZGarfht+7aXYKFpOry/Bd7pPb9b7ZIlODWs50Bha0iEbVi7X75JX7V8ZzHmkHsZO7SbKZg7gDXOMRM/MRqByzHQGDgm9s3CTSFWgtAkuB7CMfqllh7jVyKbovhDAl1I+BUTSDlG7/CbTwQ2X4Ze7fmAWo/uIIYS1hK+eyrH/agH/bveyhu8WOQZCatO0vAhu02S1xFXU2f0x3evY9cPyHg7aKtSJFHmTvYz3brQd7zpzgQmRnBJPgK8=
